<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Molly - over the bull]]></title><description><![CDATA[notes from the flatiron school in the financial district]]></description><link>http://localhost:2368/</link><generator>Ghost 0.5</generator><lastBuildDate>Tue, 07 Oct 2014 13:20:56 GMT</lastBuildDate><atom:link href="http://localhost:2368/author/molly/rss/" rel="self" type="application/rss+xml"/><ttl>60</ttl><item><title><![CDATA[To Chain or Not to Chain]]></title><description><![CDATA[<p>Chaining methods in Ruby is a great way to get a lot done on just one line. But the more methods you chain together, the greater the chance that your code will have results you might not expect.</p>

<p>So how do you know when to chain your methods? A crucial thing to keep in mind when chaining methods is what each method returns.</p>

<p>Chained methods work because each one operates on the return value of the previous method. So if you can anticipate each method's <strong>return value</strong>, you can anticipate your code's behavior.</p>

<p>Some methods return different kinds of objects depending on the circumstances. For example, say you're storing user input in a variable <code>user_string</code>. Right away, you want to modify the string in place to replace any instances of your three least favorite misspelled words. (Some might question your choice to permanently modify the string — what if you want that data one day? — but you like to walk on the wild side.) So you write the following:</p>

<pre><code>user_string = gets.chomp
user_string.gsub!("definately", "definitely").gsub!("wierd", "weird").gsub!("recieve", "receive")
</code></pre>

<p>Looks good, right? Well, maybe not. It turns out that many bang methods, <code>gsub!</code> included, return <code>nil</code> if they don't actually change anything. So if your user is a great speller — or they just don't use one of the first two words — Ruby will complain of a <code>NoMethodError</code>, because you can't call <code>gsub!</code> on <code>nil</code>.</p>

<p>To make sure your chained methods work regardless of the content of the string, it'd be better to use the non-bang <code>gsub</code>:</p>

<pre><code>user_string = gets.chomp  
user_string = user_string.gsub("definately", "definitely").gsub("wierd", "weird").gsub("recieve", "receive")  
</code></pre>

<p>or to refrain from chaining:</p>

<pre><code>user_string = gets.chomp
user_string.gsub!("definately", "definitely")
user_string.gsub!("wierd", "weird")
user_string.gsub!("recieve", "receive")
</code></pre>

<p>So when to chain? I think a good rule of thumb would be to only chain if you can be sure your methods will have appropriate return values. If they won't, or won't always, you can run into all kinds of unexpected consequences, and it can get confusing fast.</p>

<hr>

<p><strong>Bonus trivia:</strong> Because mathematical operators are technically methods, you can think of many simple arithmetic expressions as chained methods — as long as they share the same operator precedence, anyway: <code>1 + 9 - 3 # =&gt; 7</code> is equivalent to <code>1.+(9).-(3) # =&gt; 7</code>. (Potentially fascinating related question: How is operator precedence [i.e. order of operations] implemented? No, really, tell me!)</p>]]></description><link>http://localhost:2368/to-chain-or-not-to-chain/</link><guid isPermaLink="false">387be1b3-d1a2-4abe-9c7d-c120bcf641ae</guid><category><![CDATA[Flatiron School]]></category><dc:creator><![CDATA[Molly]]></dc:creator><pubDate>Tue, 07 Oct 2014 04:47:37 GMT</pubDate></item></channel></rss>